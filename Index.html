<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>3 Dart Calculator</title>
<style>
  :root {
    --bg: #121212;
    --fg: #ffffff;
    --accent: #1e90ff;
    --button-bg: #1c1c1e;
    --button-hover: #2c2c2e;
  }

  body {
    background: var(--bg);
    color: var(--fg);
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    height: 100vh;
    margin: 0;
    padding: 30px 15px;
  }

  h1 {
    font-size: 1.8rem;
    margin-bottom: 10px;
  }

  p {
    font-size: 1rem;
    color: #aaa;
    margin-top: 0;
    margin-bottom: 20px;
    text-align: center;
  }

  input[type="text"] {
    width: 90%;
    max-width: 320px;
    padding: 14px;
    font-size: 1.1rem;
    text-align: center;
    border-radius: 12px;
    border: 1px solid #333;
    background: #1c1c1e;
    color: var(--fg);
    outline: none;
    margin-bottom: 15px;
  }

  input[type="text"]:focus {
    border-color: var(--accent);
  }

  .buttons {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 10px;
    margin-bottom: 20px;
  }

  button {
    flex: 1 1 90px;
    padding: 12px;
    border: none;
    border-radius: 10px;
    background: var(--button-bg);
    color: var(--fg);
    font-size: 1rem;
    cursor: pointer;
    box-shadow: 0 2px 5px rgba(0,0,0,0.4);
    transition: background 0.2s, transform 0.1s;
  }

  button:active {
    transform: scale(0.97);
  }

  button:hover {
    background: var(--button-hover);
  }

  #output {
    background: #1c1c1e;
    width: 90%;
    max-width: 320px;
    border-radius: 12px;
    padding: 15px;
    text-align: center;
    white-space: pre-line;
    font-size: 1rem;
    box-shadow: inset 0 0 6px rgba(0,0,0,0.4);
  }

  .divider {
    margin: 8px 0;
    border-bottom: 1px solid #333;
  }
</style>
</head>
<body>

<h1>ðŸŽ¯ 3 Dart Calculator</h1>
<p>Enter your darts (e.g. <b>T20, D10, 5</b>)</p>

<input type="text" id="dartInput" placeholder="T20, D10, 5" autocapitalize="characters" />

<div class="buttons">
  <button onclick="calculate()">Calculate</button>
  <button onclick="amend()">Amend</button>
  <button onclick="clearAll()">Clear</button>
</div>

<div id="output"></div>

<script>
let lastInput = "";

function calculate() {
  const input = document.getElementById("dartInput").value.trim();
  if (!input) return;

  lastInput = input;
  const darts = input.split(",").map(d => d.trim().toUpperCase());
  const results = [];
  let total = 0;

  for (let i = 0; i < 3; i++) {
    const dart = darts[i] || "";
    let score = 0;
    let label = "";

    if (dart === "BULL") { score = 50; label = "Bullseye"; }
    else if (dart === "OB" || dart === "OUTER" || dart === "25") { score = 25; label = "Outer Bull"; }
    else if (dart.startsWith("T")) { score = 3 * parseInt(dart.slice(1)); label = "Treble " + dart.slice(1); }
    else if (dart.startsWith("D")) { score = 2 * parseInt(dart.slice(1)); label = "Double " + dart.slice(1); }
    else if (dart === "MISS" || dart === "0" || dart === "") { score = 0; label = "Miss"; }
    else if (!isNaN(parseInt(dart))) { score = parseInt(dart); label = "Single " + dart; }
    else { label = "Invalid"; }

    results.push(`Dart ${i+1}: ${label} = ${score}`);
    total += score;
  }

  document.getElementById("output").innerText =
    results.join("\n") + "\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nTotal: " + total;
}

function amend() {
  if (lastInput) {
    document.getElementById("dartInput").value = lastInput;
    document.getElementById("output").innerText = "Edit your last turn above and tap Calculate.";
  }
}

function clearAll() {
  document.getElementById("dartInput").value = "";
  document.getElementById("output").innerText = "";
  lastInput = "";
}
</script>

</body>
</html>